---
title: Git Tips——Git暂存的使用
description: 针对Git使用的小Tips——如何处理突发插入需求以及正在进行需求之间的代码冲突
tags:
  - Git
  - Version-Control
  - Tips
pubDate: 2022-12-21
draft: false
---
是日，接到了一个很大的需求，正在奋笔疾书时，突然又接到了另一个紧急的hot-fix需求，需要马上暂停手中的任务处理，当日上线。
我看着在开发分支上写到一半的一大坨代码不知所措。

首先排除直接提交/推送，因为代码并不完整，push到远程会导致CI/CD失败，影响同分支的其他同事工作。

再排除提交到本地但不推送，切到fix分支做完修改再回到开发分支继续。虽然流程上没有问题，但是会导致这一个提交的代码并不完整，后续review提交的时候会N脸懵逼，pass。

是否可以做到既不提交代码，又可以暂时放下一大坨修改，优雅的切换到其他分支完成临时任务？使用`git stash`可以做到。

**stash**（暂存）命令可以将所有未提交的更改打包暂存起来。暂存后的分支将还原为没有更改的状态，此时可以自由切换分支，并对任何分支做其他任何操作。操作完毕后，回到原分支，将暂存数据释放，就可以继续之前未完成的开发。
具体命令如下：
- `git stash`  执行暂存操作
- `git stash pop`   弹出上一次暂存，并删除暂存数据。
- `git stash list`  查看所有暂存
- `git stash clear`  清空所有暂存
- `git stash drop [-q/--quiet] [<stash>]` 删除置顶暂存
- `git stash apply` 使用指定暂存，但不删除这个暂存
